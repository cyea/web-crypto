(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],p=0,f=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://cdn.jsdelivr.net/gh/cyea/web-crypto@gh-pages/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1e7f":function(e,t,n){},5602:function(e,t,n){"use strict";var r=n("aa5f"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("be4f"),n("450d");var r=n("896a"),a=n.n(r),i=(n("0fb7"),n("f529")),o=n.n(i),s=(n("9e1f"),n("6ed5")),c=n.n(s),l=(n("6b30"),n("c284")),u=n.n(l),p=(n("0c67"),n("299c")),f=n.n(p),d=(n("10cb"),n("f3ad")),h=n.n(d),y=(n("1951"),n("eedf")),v=n.n(y),g=(n("e623"),n("e379"),n("5dc8"),n("37e1"),n("2b0e")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",{staticClass:"logo"}),n("p",{staticClass:"slogan"},[e._v("免费的文件加密/解密")]),n("Crypto"),e._m(0)],1)},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dec"},[n("p",[e._v("快速、安全、无服务器，从不上传文件到服务器。")]),n("p",[e._v(" 浏览器WebCryptoAPI中的AES-256-GCM算法提供加密。 ")])])}],w=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"crypto"},[n("div",{staticClass:"custom-file"},[n("label",[n("input",{ref:"customFile",class:[e.isDragOver?"over":"","custom-file-input"],attrs:{type:"file"},on:{change:e.uploadFile,dragenter:function(){e.isDragOver=!0},dragleave:function(){e.isDragOver=!1},drop:function(){e.isDragOver=!1}}}),n("div",{staticClass:"file-placeholder"},[n("span",{staticClass:"file-name"},[e._v(e._s(e.fileInfo))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.fileSize,expression:"fileSize"}],staticClass:"file-size"},[e._v(e._s(e.fileSize))])])])]),n("el-input",{staticClass:"input-key",attrs:{placeholder:"输入解密所需的密码"},model:{value:e.dKey,callback:function(t){e.dKey=t},expression:"dKey"}},[n("el-tooltip",{attrs:{slot:"append",effect:"dark",content:"自动生成一个安全密钥",placement:"left"},slot:"append"},[n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refreshKey}})],1)],1),n("div",{staticClass:"key-check"},[n("p",[e._v("密码强度："+e._s(e.percentageText))]),n("el-progress",{attrs:{percentage:e.percentage,"stroke-width":20,"show-text":!1,status:"warning","stroke-linecap":"square"}})],1),n("div",{staticClass:"operate"},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.encryptFile}},[e._v("加密")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:e.decryptFile}},[e._v("解密")]),e.resetShow?n("el-button",{attrs:{plain:"",type:"danger"},on:{click:e.resetForm}},[e._v("重置")]):e._e()],1),e._m(0),n("div",{staticClass:"result"},e._l(e.resultList,(function(t,r){return n("div",{key:r},[1===t.type?n("resultEncryption",{attrs:{dKey:t.dKey,nameStr:t.nameStr,blobStr:t.blobStr}}):e._e(),n("resultDecryption",{directives:[{name:"show",rawName:"v-show",value:2===t.type,expression:"n.type === 2"}],attrs:{nameStr:t.nameStr,blobStr:t.blobStr}})],1)})),0)],1)}),S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dangerInfo"},[n("div",[e._v(" 快速、安全、无服务器，完全本地加解密。 ")]),n("div",[e._v(" 请务必"),n("span",[e._v("保存好您的密码")]),e._v("，一旦丢失，您将无法解密您的文件。 ")]),n("div",[e._v(" 文件大小理论不限制，但文件过大，浏览器可能无法读取。 ")])])}],_=(n("fb6a"),n("ace4"),n("b0c0"),n("b680"),n("ac1f"),n("3ca3"),n("466d"),n("5319"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),C=n("580e"),x=n.n(C),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result-list"},[n("i",{staticClass:"el-icon-check"}),e._v(" "+e._s(e.nameStr)+" "),n("strong",[e._v("加密成功")]),n("div",{staticClass:"btn-group"},[n("a",{staticClass:"el-button el-button--primary is-plain",staticStyle:{"text-decoration":"none"},attrs:{href:e.blobStr,download:e.nameStr}},[n("i",{staticClass:"el-icon-download"}),e._v(" 已经加密的文件 ")]),n("el-button",{attrs:{type:"primary",icon:"el-icon-key",plain:""},on:{click:e.showKey}},[e._v("解密密钥")])],1)])},K=[],O={props:{nameStr:String,blobStr:String,dKey:String},methods:{showKey:function(){this.$alert(this.dKey,"解密密钥",{showConfirmButton:!1,center:!0,callback:function(){}})}}},j=O,F=(n("5602"),n("2877")),A=Object(F["a"])(j,k,K,!1,null,"4c42bcf3",null),R=A.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result-list"},[n("i",{staticClass:"el-icon-check"}),e._v(" "+e._s(e.nameStr)+" "),n("strong",[e._v("解密成功")]),n("div",{staticClass:"btn-group"},[n("a",{staticClass:"el-button el-button--primary is-plain",staticStyle:{"text-decoration":"none"},attrs:{href:e.blobStr,download:e.nameStr}},[n("i",{staticClass:"el-icon-download"}),e._v(" 已经解密的文件 ")])])])},E=[],B={props:{nameStr:String,blobStr:String}},U=B,N=(n("b0ff"),Object(F["a"])(U,$,E,!1,null,"6b22211e",null)),L=N.exports,P=(n("d81d"),n("c19f"),function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,a=e.length;r<a;r++)n[r]=e.charCodeAt(r);return t}),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=new Uint8Array(e);return window.crypto.getRandomValues(n),n=n.map((function(e){return t.charCodeAt(e%t.length)})),String.fromCharCode.apply(null,n)},D={signature:"Encrypted By yuye",hash:"SHA-512",algoName1:"PBKDF2",algoName2:"AES-GCM",algoLength:256,itr:8e4,salt:window.crypto.getRandomValues(new Uint8Array(16)),perms1:["deriveKey"],perms2:["encrypt","decrypt"]},I={name:"Crypto",components:{resultEncryption:R,resultDecryption:L},data:function(){return{isDragOver:!1,isHaveFile:!1,file:null,fileInfo:"选择文件进行加密/解密",fileSize:null,dKey:"",percentage:0,percentageText:"",resultList:[],loading:null}},computed:{resetShow:function(){return this.isHaveFile||this.dKey}},methods:{addEnterClass:function(){this.isDragOver=!0},dragleave:function(){},uploadFile:function(e){var t=e.target.files[0];if(!t)return this.isHaveFile=!1,this.fileInfo="选择文件进行加密/解密",this.fileSize="",!1;this.file=t,this.isHaveFile=!0,this.fileInfo=t.name;for(var n=t.size,r="",a=["KB","MB","GB","TB","PB","EB","ZB","YB"],i=0,o=n/1024;o>1;o/=1024,i++)r=o.toFixed(2)+" "+a[i];this.fileSize=r||"";var s=/Encrypted#[^ \f\n\r\t\v#]*#/;this.fileInfo.match(s)&&(this.dKey=this.fileInfo.match(s)[0].replace("Encrypted#","").replace("#",""))},keyCheckMeter:function(e){e=e.replace(/#/g,""),this.dKey=e;var t=x()(e);this.percentage=25*t.score;var n={0:"非常糟糕",1:"糟糕",2:"一般",3:"强",4:"非常强"};this.percentageText=n[t.score]},refreshKey:function(){var e=z();this.dKey=e},resetForm:function(){this.dKey="",this.$refs.customFile.value="",this.file=null,this.fileInfo="选择文件进行加密/解密",this.fileSize="",this.percentageText=""},importSecretKey:function(e){var t=P(e);return window.crypto.subtle.importKey("raw",t,{name:D.algoName1},!1,D.perms1)},deriveEncryptionSecretKey:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.importSecretKey(e.dKey);case 2:return n=t.sent,t.abrupt("return",window.crypto.subtle.deriveKey({name:D.algoName1,salt:D.salt,iterations:D.itr,hash:{name:D.hash}},n,{name:D.algoName2,length:D.algoLength},!1,D.perms2));case 4:case"end":return t.stop()}}),t)})))()},processFinished:function(e,t,n,r){var a=new Blob(t,{type:"application/octet-stream"}),i=URL.createObjectURL(a);this.resultList.unshift({nameStr:e,type:n,dKey:r,blobStr:i})},encryptFile:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e,n.file&&n.dKey){t.next=5;break}n.$message.error("请上传文件或输入密码"),t.next=13;break;case 5:return t.next=7,n.deriveEncryptionSecretKey();case 7:r=t.sent,a=new FileReader,a.onloadstart=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.loading=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});case 1:case"end":return t.stop()}}),t)}))),a.onload=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=window.crypto.getRandomValues(new Uint8Array(16)),i=new Uint8Array(a.result),e.next=4,window.crypto.subtle.encrypt({iv:t,name:D.algoName2},r,i).then((function(e){n.processFinished("Encrypted#"+n.dKey+"#"+n.file.name,[D.signature,t,D.salt,new Uint8Array(e)],1,n.dKey),n.loading.close(),n.resetForm(),n.addCount("encrypt")})).catch((function(){n.$message.error("加密失败，请稍后再试！")}));case 4:case"end":return e.stop()}}),e)}))),a.onerror=function(){n.$message.error("文件读取失败，可能由于文件过大")},a.readAsArrayBuffer(e.file);case 13:case"end":return t.stop()}}),t)})))()},decryptFile:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,n.file&&n.dKey?(r=new FileReader,r.onloadstart=function(){n.loading=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},r.onload=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.importSecretKey(n.dKey);case 2:return t=e.sent,e.abrupt("return",window.crypto.subtle.deriveKey({name:D.algoName1,salt:new Uint8Array(r.result.slice(D.signature.length+16,D.signature.length+32)),iterations:D.itr,hash:{name:D.hash}},t,{name:D.algoName2,length:D.algoLength},!1,D.perms2));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,t();case 3:return a=e.sent,i=new Uint8Array(r.result.slice(D.signature.length,D.signature.length+16)),o=new Uint8Array(r.result.slice(D.signature.length+32)),e.next=8,window.crypto.subtle.decrypt({iv:i,name:D.algoName2},a,o).then((function(e){var t=/Encrypted#[^ \f\n\r\t\v#]*#/,r=n.file.name;r.match(t)&&(r=r.replace(r.match(t)[0],"")),n.processFinished(r,[new Uint8Array(e)],2,n.dKey),n.loading.close(),n.resetForm(),n.addCount("decrypt")})).catch((function(){n.$message.error("您的解密密钥是错误的!"),n.loading.close()}));case 8:case"end":return e.stop()}}),e)}))),r.onerror=function(){n.$message.error("文件读取失败，可能由于文件过大")},r.readAsArrayBuffer(n.file)):n.$message.error("请上传文件或输入密码");case 2:case"end":return t.stop()}}),t)})))()},addCount:function(e){var t=this;fetch("https://api.chenyeah.com/v1/addcriptocount",{method:"post",body:"type=".concat(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){0===e.code&&(t.$parent.count=e.count),console.log(e)})).catch((function(e){console.log(e)}))}},mounted:function(){},watch:{dKey:"keyCheckMeter"}},M=I,T=(n("7ced"),Object(F["a"])(M,w,S,!1,null,"243f73ef",null)),H=T.exports,G={name:"app",components:{Crypto:H},data:function(){return{count:0}},mounted:function(){var e=this;fetch("https://api.chenyeah.com/v1/getcriptocount",{method:"post"}).then((function(e){return e.json()})).then((function(t){0===t.code&&(e.count=t.count)})).catch((function(e){console.log(e)}))}},V=G,J=(n("5c0b"),Object(F["a"])(V,m,b,!1,null,null,null)),q=J.exports;n("0fae");g["default"].use(v.a),g["default"].use(h.a),g["default"].use(f.a),g["default"].use(u.a),g["default"].prototype.$alert=c.a.alert,g["default"].prototype.$message=o.a,g["default"].prototype.$loading=a.a.service,g["default"].config.productionTip=!1,new g["default"]({render:function(e){return e(q)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"7ced":function(e,t,n){"use strict";var r=n("1e7f"),a=n.n(r);a.a},"9c0c":function(e,t,n){},aa5f:function(e,t,n){},b0ff:function(e,t,n){"use strict";var r=n("bb96"),a=n.n(r);a.a},bb96:function(e,t,n){}});
//# sourceMappingURL=app.b3eec139.js.map